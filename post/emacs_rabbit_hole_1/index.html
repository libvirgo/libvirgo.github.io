<!doctype html><html lang dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ç”±äº GoLand åœ¨ M1 çš„ç¬”è®°æœ¬å¤–æ¥æ˜¾ç¤ºå™¨ä¸Šä¼šå±å¹•é—ªçƒ, æ‰€ä»¥é‡æ‹¾ Emacs. è®°å½•è¿™æ¬¡é…ç½® Emacs çš„ä¸€äº›å‘.
ä¸­æ–‡å­—ä½“ å¦‚æœæ²¡æœ‰é…ç½®ç­‰å®½ç­‰é«˜çš„ä¸­æ–‡å­—ä½“, ä¼šåœ¨åŒæ—¶æ˜¾ç¤ºä¸­è‹±æ–‡çš„æ—¶å€™å‡ºç°å±å¹•è·³åŠ¨, è¡¥å…¨çš„ childframe æ˜¾ç¤ºé”™ä½ä¹‹ç±»çš„é—®é¢˜, ä¸ªäººç”±äº GoLand å­—ä½“çœ‹ä¹ æƒ¯äº†, æ‰€ä»¥ä¾ç„¶ä½¿ç”¨ JetBrainsMono ä½œä¸ºåº”ä¸ºå­—ä½“, ä¸­æ–‡å­—ä½“é€‰ç”¨ æ›´èé»‘ä½“.
æ˜¾ç¤ºæ•ˆæœå¦‚å›¾:
(defun +my/better-font() (interactive) ;; english font (if (display-graphic-p) (progn (set-face-attribute &amp;#39;default nil :font (format &amp;#34;%s:pixelsize=%d&amp;#34; &amp;#34;JetBrainsMono NF&amp;#34; 15)) ;; chinese font (dolist (charset &amp;#39;(kana han symbol cjk-misc bopomofo)) (set-fontset-font (frame-parameter nil &amp;#39;font) charset (font-spec :family &amp;#34;Sarasa Mono SC&amp;#34;)))) )) (defun +my|init-font(frame) (with-selected-frame frame (if (display-graphic-p) (+my/better-font)))) (add-hook &amp;#39;after-make-frame-functions #&amp;#39;+my|init-font) (+my/better-font) Environment ä¸ªäººä½¿ç”¨äº† Emacs Plus è¿›è¡Œç¼–è¯‘çš„, ä¼šè¯»å– login shell ä¸­çš„ PATH ç¯å¢ƒå˜é‡, å¦‚ ."><title>Emacs Rabbit Hole - 1</title><link rel=canonical href=/post/emacs_rabbit_hole_1/><link rel=stylesheet href=/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css><meta property="og:title" content="Emacs Rabbit Hole - 1"><meta property="og:description" content="ç”±äº GoLand åœ¨ M1 çš„ç¬”è®°æœ¬å¤–æ¥æ˜¾ç¤ºå™¨ä¸Šä¼šå±å¹•é—ªçƒ, æ‰€ä»¥é‡æ‹¾ Emacs. è®°å½•è¿™æ¬¡é…ç½® Emacs çš„ä¸€äº›å‘.
ä¸­æ–‡å­—ä½“ å¦‚æœæ²¡æœ‰é…ç½®ç­‰å®½ç­‰é«˜çš„ä¸­æ–‡å­—ä½“, ä¼šåœ¨åŒæ—¶æ˜¾ç¤ºä¸­è‹±æ–‡çš„æ—¶å€™å‡ºç°å±å¹•è·³åŠ¨, è¡¥å…¨çš„ childframe æ˜¾ç¤ºé”™ä½ä¹‹ç±»çš„é—®é¢˜, ä¸ªäººç”±äº GoLand å­—ä½“çœ‹ä¹ æƒ¯äº†, æ‰€ä»¥ä¾ç„¶ä½¿ç”¨ JetBrainsMono ä½œä¸ºåº”ä¸ºå­—ä½“, ä¸­æ–‡å­—ä½“é€‰ç”¨ æ›´èé»‘ä½“.
æ˜¾ç¤ºæ•ˆæœå¦‚å›¾:
(defun +my/better-font() (interactive) ;; english font (if (display-graphic-p) (progn (set-face-attribute &amp;#39;default nil :font (format &amp;#34;%s:pixelsize=%d&amp;#34; &amp;#34;JetBrainsMono NF&amp;#34; 15)) ;; chinese font (dolist (charset &amp;#39;(kana han symbol cjk-misc bopomofo)) (set-fontset-font (frame-parameter nil &amp;#39;font) charset (font-spec :family &amp;#34;Sarasa Mono SC&amp;#34;)))) )) (defun +my|init-font(frame) (with-selected-frame frame (if (display-graphic-p) (+my/better-font)))) (add-hook &amp;#39;after-make-frame-functions #&amp;#39;+my|init-font) (+my/better-font) Environment ä¸ªäººä½¿ç”¨äº† Emacs Plus è¿›è¡Œç¼–è¯‘çš„, ä¼šè¯»å– login shell ä¸­çš„ PATH ç¯å¢ƒå˜é‡, å¦‚ ."><meta property="og:url" content="/post/emacs_rabbit_hole_1/"><meta property="og:site_name" content="Rabbit hole"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="Emacs"><meta property="article:published_time" content="2022-12-13T20:22:00+08:00"><meta property="article:modified_time" content="2022-12-13T20:22:00+08:00"><meta name=twitter:title content="Emacs Rabbit Hole - 1"><meta name=twitter:description content="ç”±äº GoLand åœ¨ M1 çš„ç¬”è®°æœ¬å¤–æ¥æ˜¾ç¤ºå™¨ä¸Šä¼šå±å¹•é—ªçƒ, æ‰€ä»¥é‡æ‹¾ Emacs. è®°å½•è¿™æ¬¡é…ç½® Emacs çš„ä¸€äº›å‘.
ä¸­æ–‡å­—ä½“ å¦‚æœæ²¡æœ‰é…ç½®ç­‰å®½ç­‰é«˜çš„ä¸­æ–‡å­—ä½“, ä¼šåœ¨åŒæ—¶æ˜¾ç¤ºä¸­è‹±æ–‡çš„æ—¶å€™å‡ºç°å±å¹•è·³åŠ¨, è¡¥å…¨çš„ childframe æ˜¾ç¤ºé”™ä½ä¹‹ç±»çš„é—®é¢˜, ä¸ªäººç”±äº GoLand å­—ä½“çœ‹ä¹ æƒ¯äº†, æ‰€ä»¥ä¾ç„¶ä½¿ç”¨ JetBrainsMono ä½œä¸ºåº”ä¸ºå­—ä½“, ä¸­æ–‡å­—ä½“é€‰ç”¨ æ›´èé»‘ä½“.
æ˜¾ç¤ºæ•ˆæœå¦‚å›¾:
(defun +my/better-font() (interactive) ;; english font (if (display-graphic-p) (progn (set-face-attribute &amp;#39;default nil :font (format &amp;#34;%s:pixelsize=%d&amp;#34; &amp;#34;JetBrainsMono NF&amp;#34; 15)) ;; chinese font (dolist (charset &amp;#39;(kana han symbol cjk-misc bopomofo)) (set-fontset-font (frame-parameter nil &amp;#39;font) charset (font-spec :family &amp;#34;Sarasa Mono SC&amp;#34;)))) )) (defun +my|init-font(frame) (with-selected-frame frame (if (display-graphic-p) (+my/better-font)))) (add-hook &amp;#39;after-make-frame-functions #&amp;#39;+my|init-font) (+my/better-font) Environment ä¸ªäººä½¿ç”¨äº† Emacs Plus è¿›è¡Œç¼–è¯‘çš„, ä¼šè¯»å– login shell ä¸­çš„ PATH ç¯å¢ƒå˜é‡, å¦‚ ."><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hubab1a6f26c99bd4005799835b3b49dcb_56897_300x0_resize_box_3.png width=300 height=321 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Rabbit hole</a></h1><h2 class=site-description>Tech is and always will be political.</h2></div></header><ol class=social-menu><li><a href=https://github.com/libvirgo/ target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/page/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About</span></a></li><li><a href=/page/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/page/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#ä¸­æ–‡å­—ä½“>ä¸­æ–‡å­—ä½“</a></li><li><a href=#environment>Environment</a></li><li><a href=#project>Project</a></li><li><a href=#buffer>Buffer</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/emacs/>Emacs</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/post/emacs_rabbit_hole_1/>Emacs Rabbit Hole - 1</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Dec 13, 2022</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>3 minute read</time></div></footer></div></header><section class=article-content><blockquote><p>ç”±äº <code>GoLand</code> åœ¨ <code>M1</code> çš„ç¬”è®°æœ¬å¤–æ¥æ˜¾ç¤ºå™¨ä¸Šä¼šå±å¹•é—ªçƒ, æ‰€ä»¥é‡æ‹¾ <code>Emacs</code>. è®°å½•è¿™æ¬¡é…ç½® <code>Emacs</code> çš„ä¸€äº›å‘.</p></blockquote><h1 id=ä¸­æ–‡å­—ä½“>ä¸­æ–‡å­—ä½“</h1><p>å¦‚æœæ²¡æœ‰é…ç½®ç­‰å®½ç­‰é«˜çš„ä¸­æ–‡å­—ä½“, ä¼šåœ¨åŒæ—¶æ˜¾ç¤ºä¸­è‹±æ–‡çš„æ—¶å€™å‡ºç°å±å¹•è·³åŠ¨, è¡¥å…¨çš„ <code>childframe</code> æ˜¾ç¤ºé”™ä½ä¹‹ç±»çš„é—®é¢˜, ä¸ªäººç”±äº <code>GoLand</code> å­—ä½“çœ‹ä¹ æƒ¯äº†, æ‰€ä»¥ä¾ç„¶ä½¿ç”¨ <code>JetBrainsMono</code> ä½œä¸ºåº”ä¸ºå­—ä½“, ä¸­æ–‡å­—ä½“é€‰ç”¨ <a class=link href=https://github.com/be5invis/Sarasa-Gothic target=_blank rel=noopener>æ›´èé»‘ä½“</a>.</p><p>æ˜¾ç¤ºæ•ˆæœå¦‚å›¾:</p><p><img src=/post/emacs_rabbit_hole_1/corfu_english_helper.png width=1366 height=894 srcset="/post/emacs_rabbit_hole_1/corfu_english_helper_hu85355849b69732470b0aa0e3d241250a_236220_480x0_resize_box_3.png 480w, /post/emacs_rabbit_hole_1/corfu_english_helper_hu85355849b69732470b0aa0e3d241250a_236220_1024x0_resize_box_3.png 1024w" loading=lazy alt=corfu_english_helper class=gallery-image data-flex-grow=152 data-flex-basis=366px></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lisp data-lang=lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>defun</span> <span class=nv>+my/better-font</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>interactive</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=c1>;; english font</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nv>display-graphic-p</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=k>progn</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nv>set-face-attribute</span> <span class=ss>&#39;default</span> <span class=no>nil</span> <span class=ss>:font</span> <span class=p>(</span><span class=nf>format</span> <span class=s>&#34;%s:pixelsize=%d&#34;</span> <span class=s>&#34;JetBrainsMono NF&#34;</span> <span class=mi>15</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=c1>;; chinese font</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nb>dolist</span> <span class=p>(</span><span class=nv>charset</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>kana</span> <span class=nv>han</span> <span class=nc>symbol</span> <span class=nv>cjk-misc</span> <span class=nv>bopomofo</span><span class=p>))</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nv>set-fontset-font</span> <span class=p>(</span><span class=nv>frame-parameter</span> <span class=no>nil</span> <span class=ss>&#39;font</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                            <span class=nv>charset</span>
</span></span><span class=line><span class=cl>                            <span class=p>(</span><span class=nv>font-spec</span> <span class=ss>:family</span> <span class=s>&#34;Sarasa Mono SC&#34;</span><span class=p>))))</span>
</span></span><span class=line><span class=cl>    <span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nb>defun</span> <span class=nv>+my|init-font(frame)
</span></span></span><span class=line><span class=cl><span class=nv>  (with-selected-frame frame
</span></span></span><span class=line><span class=cl><span class=nv>    (if (display-graphic-p)
</span></span></span><span class=line><span class=cl><span class=nv>        (+my/better-font))))
</span></span></span><span class=line><span class=cl><span class=nv>(add-hook &#39;after-make-frame-functions #&#39;+my|init-font</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nv>+my/better-font</span><span class=p>)</span>
</span></span></code></pre></div><h1 id=environment>Environment</h1><p>ä¸ªäººä½¿ç”¨äº† <a class=link href=https://github.com/d12frosted/homebrew-emacs-plus target=_blank rel=noopener>Emacs Plus</a> è¿›è¡Œç¼–è¯‘çš„, ä¼šè¯»å– <code>login shell</code> ä¸­çš„ <code>PATH</code> ç¯å¢ƒå˜é‡, å¦‚ <code>.zprofile</code> <code>.profile</code> æ–‡ä»¶ä¸­é…ç½®çš„ç¯å¢ƒå˜é‡, ä½†æ˜¯å…¶å®ƒçš„ç¯å¢ƒå˜é‡å®æµ‹æ²¡æœ‰ä¸»åŠ¨è·å–, æ‰€ä»¥ä¸å¾—å·²è¿˜æ˜¯é€‰æ‹©ä½¿ç”¨ <code>exec-path-from-shell</code> è·å–éœ€è¦ç”¨åˆ°çš„ç¯å¢ƒå˜é‡.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lisp data-lang=lisp><span class=line><span class=cl><span class=p>(</span><span class=k>if</span> <span class=nv>is-darwin</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nf>use-package</span> <span class=nv>exec-path-from-shell</span>
</span></span><span class=line><span class=cl>      <span class=ss>:defer</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>      <span class=ss>:straight</span> <span class=no>t</span>
</span></span><span class=line><span class=cl>      <span class=ss>:config</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=k>setq</span> <span class=nv>exec-path-from-shell-variables</span> <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;PATH&#34;</span> <span class=s>&#34;PYTHONPATH&#34;</span> <span class=s>&#34;GOPATH&#34;</span> <span class=s>&#34;GTAGSOBJDIRPREFIX&#34;</span> <span class=s>&#34;GTAGSCONF&#34;</span> <span class=s>&#34;GTAGSLABEL&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=k>setq</span> <span class=nv>exec-path-from-shell-check-startup-files</span> <span class=no>nil</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=k>setq</span> <span class=nv>exec-path-from-shell-arguments</span> <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;-l&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=nv>exec-path-from-shell-initialize</span><span class=p>))</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=k>setq</span> <span class=nv>dired-use-ls-dired</span> <span class=no>nil</span><span class=p>)</span> <span class=c1>;; ä¸è®¾ç½®è¯¥è¡Œçš„è¯ä¼šåœ¨ä½¿ç”¨diredçš„æ—¶å€™æŠ¥é”™.</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span></code></pre></div><h1 id=project>Project</h1><p>è‡ªå¸¦çš„ <code>project.el</code> åŒ…ä½¿ç”¨äº†ç³»ç»Ÿé»˜è®¤çš„ <code>grep</code> å’Œ <code>find</code> åˆ†åˆ«ä½œä¸ºå…¨å±€æŸ¥æ‰¾å’Œæ–‡ä»¶æŸ¥æ‰¾çš„å·¥å…·, è¿™ä¸¤ä¸ªå·¥å…·ä¸å¦‚ <code>ripgrep</code> å’Œ <code>fd</code> å¥½ç”¨. <code>ripgrep</code> å’Œ <code>fd</code> ä¼šä» <code>.gitignore</code> ä¸­è¯»å–ä¸éœ€è¦æœç´¢çš„æ–‡ä»¶, æ‰€ä»¥ä»¥ä¸‹é…ç½®å¯ä»¥ä¿®æ”¹é»˜è®¤ <code>project.el</code> çš„è¡Œä¸º.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lisp data-lang=lisp><span class=line><span class=cl><span class=p>(</span><span class=nf>use-package</span> <span class=nv>project</span>
</span></span><span class=line><span class=cl>  <span class=ss>:straight</span> <span class=no>t</span>
</span></span><span class=line><span class=cl>  <span class=ss>:bind</span> <span class=p>((</span><span class=s>&#34;C-c p p&#34;</span> <span class=o>.</span> <span class=nv>project-switch-project</span><span class=p>)</span>
</span></span><span class=line><span class=cl>         <span class=p>(</span><span class=s>&#34;C-c p f&#34;</span> <span class=o>.</span> <span class=nv>project-find-file</span><span class=p>)</span>
</span></span><span class=line><span class=cl>         <span class=p>(</span><span class=s>&#34;C-c p g&#34;</span> <span class=o>.</span> <span class=nv>project-find-regexp</span><span class=p>)</span>
</span></span><span class=line><span class=cl>         <span class=p>(</span><span class=s>&#34;C-c p b&#34;</span> <span class=o>.</span> <span class=nv>consult-project-buffer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>         <span class=p>(</span><span class=s>&#34;C-c p s&#34;</span> <span class=o>.</span> <span class=nv>magit-project-status</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=ss>:init</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=k>setq</span> <span class=nv>project-list-file</span> <span class=p>(</span><span class=nv>expand-file-name</span> <span class=s>&#34;projects&#34;</span> <span class=nv>prelude-local-dir</span><span class=p>))</span>
</span></span><span class=line><span class=cl>  <span class=ss>:config</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>defcustom</span> <span class=nv>project-root-markers</span>
</span></span><span class=line><span class=cl>    <span class=o>&#39;</span><span class=p>(</span><span class=s>&#34;Cargo.toml&#34;</span> <span class=s>&#34;go.mod&#34;</span> <span class=s>&#34;package.json&#34;</span> <span class=s>&#34;.git&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;Files or directories that indicate the root of a project.&#34;</span>
</span></span><span class=line><span class=cl>    <span class=ss>:type</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>repeat</span> <span class=nc>string</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=ss>:group</span> <span class=ss>&#39;project</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>defun</span> <span class=nv>project-root-p</span> <span class=p>(</span><span class=nv>path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;Check if the current PATH has any of the project root markers.&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=k>catch</span> <span class=ss>&#39;found</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=nb>dolist</span> <span class=p>(</span><span class=nv>marker</span> <span class=nv>project-root-markers</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nb>when</span> <span class=p>(</span><span class=nv>file-exists-p</span> <span class=p>(</span><span class=nv>concat</span> <span class=nv>path</span> <span class=nv>marker</span><span class=p>))</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=k>throw</span> <span class=ss>&#39;found</span> <span class=nv>marker</span><span class=p>)))))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>defun</span> <span class=nv>project-find-root</span> <span class=p>(</span><span class=nv>path</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;Search up the PATH for `project-root-markers&#39;.&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=k>let</span> <span class=p>((</span><span class=nv>path</span> <span class=p>(</span><span class=nv>expand-file-name</span> <span class=nv>path</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=k>catch</span> <span class=ss>&#39;found</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nv>while</span> <span class=p>(</span><span class=nf>not</span> <span class=p>(</span><span class=nf>equal</span> <span class=s>&#34;/&#34;</span> <span class=nv>path</span><span class=p>))</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=k>if</span> <span class=p>(</span><span class=nf>not</span> <span class=p>(</span><span class=nv>project-root-p</span> <span class=nv>path</span><span class=p>))</span>
</span></span><span class=line><span class=cl>              <span class=p>(</span><span class=k>setq</span> <span class=nv>path</span> <span class=p>(</span><span class=nv>file-name-directory</span> <span class=p>(</span><span class=nv>directory-file-name</span> <span class=nv>path</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=k>throw</span> <span class=ss>&#39;found</span> <span class=p>(</span><span class=nc>cons</span> <span class=ss>&#39;transient</span> <span class=nv>path</span><span class=p>)))))))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>add-to-list</span> <span class=ss>&#39;project-find-functions</span> <span class=nf>#&#39;</span><span class=nv>project-find-root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>defun</span> <span class=nv>my/project-files-in-directory</span> <span class=p>(</span><span class=nv>dir</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;Use `fd&#39; to list files in DIR.&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=k>let*</span> <span class=p>((</span><span class=nv>default-directory</span> <span class=nv>dir</span><span class=p>)</span>
</span></span><span class=line><span class=cl>           <span class=p>(</span><span class=nv>localdir</span> <span class=p>(</span><span class=nv>file-local-name</span> <span class=p>(</span><span class=nv>expand-file-name</span> <span class=nv>dir</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>           <span class=p>(</span><span class=nv>command</span> <span class=p>(</span><span class=nf>format</span> <span class=s>&#34;fd -H -t f -0 -E .git . %s&#34;</span> <span class=nv>localdir</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=nv>project--remote-file-names</span>
</span></span><span class=line><span class=cl>       <span class=p>(</span><span class=nf>sort</span> <span class=p>(</span><span class=nv>split-string</span> <span class=p>(</span><span class=nv>shell-command-to-string</span> <span class=nv>command</span><span class=p>)</span> <span class=s>&#34;\0&#34;</span> <span class=no>t</span><span class=p>)</span>
</span></span><span class=line><span class=cl>             <span class=nf>#&#39;string&lt;</span><span class=p>))))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>cl-defmethod</span> <span class=nv>project-files</span> <span class=p>((</span><span class=nv>project</span> <span class=p>(</span><span class=nv>head</span> <span class=nv>transient</span><span class=p>))</span> <span class=k>&amp;optional</span> <span class=nv>dirs</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;Override `project-files&#39; to use `fd&#39; in local projects.&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nf>mapcan</span> <span class=nf>#&#39;</span><span class=nv>my/project-files-in-directory</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=nb>or</span> <span class=nv>dirs</span> <span class=p>(</span><span class=nc>list</span> <span class=p>(</span><span class=nv>project-root</span> <span class=nv>project</span><span class=p>)))))</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=k>setq</span> <span class=nv>magit-bind-magit-project-status</span> <span class=no>nil</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>define-key</span> <span class=nv>project-prefix-map</span> <span class=s>&#34;v&#34;</span> <span class=nf>#&#39;</span><span class=nv>vterm</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>define-key</span> <span class=nv>project-prefix-map</span> <span class=s>&#34;m&#34;</span> <span class=nf>#&#39;</span><span class=nv>magit-project-status</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=k>setq</span> <span class=nv>project-switch-commands</span>
</span></span><span class=line><span class=cl>        <span class=o>&#39;</span><span class=p>((</span><span class=nv>project-find-file</span> <span class=s>&#34;Find file&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nv>project-find-regexp</span> <span class=s>&#34;Find ripgrep&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nv>project-find-dir</span> <span class=s>&#34;Find directory&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nv>vterm</span> <span class=s>&#34;VTerm&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nv>magit-project-status</span> <span class=s>&#34;Magit&#34;</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>  <span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=k>setq</span> <span class=nv>xref-search-program</span> <span class=ss>&#39;ripgrep</span><span class=p>)</span>
</span></span></code></pre></div><h1 id=buffer>Buffer</h1><p><code>switch-to-next-buffer</code> å’Œ <code>switch-to-prev-buffer</code> å¯ä»¥é€šè¿‡ <code>switch-to-prev-buffer-skip</code> è®¾ç½®çš„å‡½æ•°è¿›è¡Œè¿‡æ»¤è·³è½¬, å¤§éƒ¨åˆ†æ—¶å€™åˆ‡æ¢ <code>buffer</code> æ˜¯å¸Œæœ›åœ¨é¡¹ç›®ä¸­çš„æ–‡ä»¶è¿›è¡Œåˆ‡æ¢, å¹¶ä¸æƒ³åˆ‡æ¢åˆ° <code>emacs</code> çš„ä¸€äº›åŒ…çš„ <code>log</code> <code>buffer</code>, æ‰€ä»¥å¯ä»¥é€šè¿‡è®¾ç½® <code>boring-buffer-p</code> æ¥å†³å®šå“ªäº› <code>buffer</code> æ˜¯ä¸æƒ³é€šè¿‡å¿«æ·é”®åˆ‡å‡ºæ¥çš„.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lisp data-lang=lisp><span class=line><span class=cl><span class=p>(</span><span class=nb>defun</span> <span class=nv>project-buffer-p</span> <span class=p>(</span><span class=nv>buf</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nf>member</span> <span class=p>(</span><span class=nv>buffer-name</span> <span class=nv>buf</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=k>let</span> <span class=p>((</span><span class=nv>buffers</span> <span class=p>()))</span>
</span></span><span class=line><span class=cl>            <span class=p>(</span><span class=nb>dolist</span> <span class=p>(</span><span class=nv>pr</span> <span class=p>(</span><span class=nv>project-buffers</span> <span class=p>(</span><span class=nv>project-current</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>              <span class=p>(</span><span class=nb>push</span> <span class=p>(</span><span class=nv>buffer-name</span> <span class=nv>pr</span><span class=p>)</span> <span class=nv>buffers</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=nv>buffers</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nb>defun</span> <span class=nv>vmacs-boring-buffer-p</span><span class=p>(</span><span class=k>&amp;optional</span> <span class=nv>buf</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nv>string-match-p</span> <span class=p>(</span><span class=nv>rx</span> <span class=p>(</span><span class=nb>or</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*Async-native-compile-log\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;magit&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*company-documentation\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*eaf&#34;</span> <span class=s>&#34;\*eldoc&#34;</span> <span class=s>&#34;\*Launch &#34;</span> <span class=s>&#34;*dap-&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;*EGLOT &#34;</span> <span class=s>&#34;\*Flymake log\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*gopls::stderr\*&#34;</span> <span class=s>&#34;\*gopls\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*Compile-Log\*&#34;</span> <span class=s>&#34;*Backtrace*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;*Package-Lint*&#34;</span> <span class=s>&#34;\*sdcv\*&#34;</span> <span class=s>&#34;\*tramp&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*lsp-log\*&#34;</span> <span class=s>&#34;\*tramp&#34;</span> <span class=s>&#34;\*Ibuffer\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*Help\*&#34;</span> <span class=s>&#34;\*ccls&#34;</span> <span class=s>&#34;\*vc&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*xref&#34;</span> <span class=s>&#34;\*Warnings*&#34;</span> <span class=s>&#34;\*Http&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*Async Shell Command\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*Shell Command Output\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*Calculator\*&#34;</span> <span class=s>&#34;\*Calc &#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*Flycheck error messages\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*Gofmt Errors\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*Ediff&#34;</span> <span class=s>&#34;\*sdcv\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*Org PDF LaTex Output\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*Org Export&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*osx-dictionary\*&#34;</span> <span class=s>&#34;\*Messages\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=s>&#34;\*straight-process\*&#34;</span>
</span></span><span class=line><span class=cl>                       <span class=p>))</span>
</span></span><span class=line><span class=cl>                  <span class=p>(</span><span class=nv>buffer-name</span> <span class=nv>buf</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nb>defun</span> <span class=nv>vmacs-tab-vterm-p</span><span class=p>(</span><span class=k>&amp;optional</span> <span class=nv>buf</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nf>eq</span> <span class=p>(</span><span class=nv>buffer-local-value</span> <span class=ss>&#39;major-mode</span> <span class=p>(</span><span class=nb>or</span> <span class=nv>buf</span> <span class=p>(</span><span class=nv>current-buffer</span><span class=p>)))</span> <span class=ss>&#39;vterm-mode</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>;; switch-to-prev-buffer ä¸ switch-to-next-buffer æ—¶ skip ç‰¹å®šçš„buffers</span>
</span></span><span class=line><span class=cl><span class=c1>;;è€Œ tab-line-switch-to-prev/next-tab æ°å¥½ä½¿ç”¨äº†ä¸Šé¢ä¸¤ä¸ªå‡½æ•°</span>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=nb>defun</span> <span class=nv>vmacs-switch-to-prev-buffer-skip</span><span class=p>(</span><span class=nv>win</span> <span class=nv>buf</span> <span class=nv>bury-or-kill</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>(</span><span class=nb>when</span> <span class=p>(</span><span class=nf>member</span> <span class=nv>this-command</span> <span class=o>&#39;</span><span class=p>(</span><span class=nv>next-buffer</span> <span class=nv>previous-buffer</span>
</span></span><span class=line><span class=cl>                                           <span class=nv>switch-to-prev-buffer</span>
</span></span><span class=line><span class=cl>                                           <span class=nv>switch-to-next-buffer</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=nb>cond</span>
</span></span><span class=line><span class=cl>     <span class=c1>;; ((vmacs-tab-vterm-p)                ;å½“å‰bufferæ˜¯vterm</span>
</span></span><span class=line><span class=cl>     <span class=c1>;; (not (vmacs-tab-vterm-p buf)))     ;è‹¥buf ä¸æ˜¯vterm,åˆ™skip</span>
</span></span><span class=line><span class=cl>     <span class=p>((</span><span class=nv>vmacs-boring-buffer-p</span> <span class=p>(</span><span class=nv>current-buffer</span><span class=p>))</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=nf>not</span> <span class=p>(</span><span class=nv>vmacs-boring-buffer-p</span> <span class=nv>buf</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>     <span class=p>(</span><span class=no>t</span>                                 <span class=c1>;å½“å‰bufferæ˜¯æ­£å¸¸buffer</span>
</span></span><span class=line><span class=cl>      <span class=p>(</span><span class=nb>or</span> <span class=p>(</span><span class=nv>vmacs-boring-buffer-p</span> <span class=nv>buf</span><span class=p>)</span>   <span class=c1>;è‹¥buf æ˜¯boring buf æˆ–vtermï¼Œåˆ™è·³è¿‡</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nv>vmacs-tab-vterm-p</span> <span class=nv>buf</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>(</span><span class=nf>not</span> <span class=p>(</span><span class=nv>project-buffer-p</span> <span class=nv>buf</span><span class=p>))</span>
</span></span><span class=line><span class=cl>          <span class=p>)))))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=k>setq</span> <span class=nv>switch-to-prev-buffer-skip</span> <span class=nf>#&#39;</span><span class=nv>vmacs-switch-to-prev-buffer-skip</span><span class=p>)</span>
</span></span></code></pre></div></section><footer class=article-footer><section class=article-tags><a href=/tags/emacs/>Emacs</a></section></footer></article><footer class=site-footer><section class=copyright>&copy;
2022 Rabbit hole</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>